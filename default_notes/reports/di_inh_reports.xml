<?xml version="1.0" encoding="utf-8"?>
<odoo>
<template id="di_report_saleorder_document" inherit_id="sale.report_saleorder_document">
<!-- doc, line -->
    <xpath expr="//table" position="before">
    
        <t t-set="textes" t-value="doc.di_get_texts()" />
        <t t-foreach="textes" t-as="texte">
            <div>
                <span t-raw="texte" /> <!-- OK -->
            </div>
        </t>
            
    </xpath>
    <xpath expr="//tbody[@class='sale_tbody']//t[@t-foreach='doc.order_line']//tr[1]/t" position="after">
        <t t-set="textes" t-value="line.di_get_texts()" />
        <t t-foreach="textes" t-as="texte">
            <tr>
                <td name="di_td_texte" colspan="99">
                    <span t-raw="texte"/> <!-- OK -->
                </td>
            </tr>
        </t>
            
    </xpath>        
</template> 

<template id="di_report_picking" inherit_id="stock.report_picking">
<!-- o, ml -->
    <xpath expr="//table" position="before">
        <t t-set="textes" t-value="o.di_get_texts()" />
        <t t-foreach="textes" t-as="texte">
            <div>
                <span t-raw="texte"/> <!-- OK -->
            </div>
        </t>
            
    </xpath>
    <xpath expr="//tbody/t/t/tr" position="after">
        <t t-set="textes" t-value="ml.di_get_texts()" />
        <t t-foreach="textes" t-as="texte">
            <tr>
                <td name="di_td_texte" colspan="99">
                    <span t-raw="texte"/> <!-- OK -->
                </td>
            </tr>
        </t>
            
    </xpath>        
</template>

<template id="di_report_delivery_document" inherit_id="stock.report_delivery_document" >
<!-- o, move -->
    <xpath expr="//table[@name='stock_move_table']" position="before">
        <t t-set="textes" t-value="o.di_get_texts()" />
        <t t-foreach="textes" t-as="texte">
            <div>
                <span t-raw="texte"/> <!-- OK -->
            </div>
        </t>
            
    </xpath>
    <xpath expr="//table[@name='stock_move_table']/tbody/tr" position="replace">
        <t t-foreach="lines" t-as="move">
            <tr>
                <td>
                    <span t-field="move.product_id"/>
                    <p t-if="move.description_picking != move.product_id.name">
                        <span t-field="move.description_picking"/>
                    </p>
                </td>
                <td>
                    <span t-field="move.product_uom_qty"/>
                    <span t-field="move.product_uom"/>
                </td>
            </tr>
            <t t-set="textes" t-value="move.di_get_texts()" />
            <t t-foreach="textes" t-as="texte">
                <tr>
                    <td name="di_td_texte" colspan="99">
                        <span t-raw="texte"/> <!-- OK -->
                    </td>
                </tr>
            </t>
        </t>
            
    </xpath>
    <xpath expr="//table[@name='stock_move_line_table']/tbody/t[2]/t/tr" position="replace">
        
            <t t-foreach="o.move_line_ids" t-as="move_line">
                <tr>
                    <t t-call="stock.stock_report_delivery_has_serial_move_line"/>
                </tr>
                
                <t t-set="textes" t-value="move_line.di_get_texts()" />
                <t t-foreach="textes" t-as="texte">
                    <tr>
                        <td name="di_td_texte" colspan="99">
                            <span t-raw="texte"/> <!-- OK -->
                        </td>
                    </tr> 
                </t>                        
            </t>
        
    </xpath>          
</template>  

<template id="di_stock_report_delivery_aggregated_move_lines" inherit_id="stock.stock_report_delivery_aggregated_move_lines">
<!-- ml -->   
    <xpath expr="//tr" position="replace">
        <t t-foreach="aggregated_lines" t-as="line">
            <tr>
                <td>
                    <span t-esc="aggregated_lines[line]['name']"/>
                    <p t-if="aggregated_lines[line]['description']">
                        <span t-esc="aggregated_lines[line]['description']"/>
                    </p>
                </td>
                <td class="text-center" name="move_line_aggregated_qty_done">
                    <span t-raw="aggregated_lines[line]['qty_done']"/>
                    <span t-esc="aggregated_lines[line]['product_uom']"/>
                </td>
            </tr>            
            <t t-set="textes" t-value="aggregated_lines[line]['product'].di_get_texts('dn')" />
            <t t-foreach="textes" t-as="texte">
                <tr>
                    <td name="di_td_texte" colspan="99">
                        <span t-raw="texte"/> <!-- OK -->
                    </td>
                </tr>
            </t>                            
        </t>            
    </xpath>        
</template>




<template id="di_report_invoice_document" inherit_id="account.report_invoice_document">
<!-- o, line -->
    <xpath expr="//table[@name='invoice_line_table']" position="before">
        <t t-set="textes" t-value="o.di_get_texts()" />
        <t t-foreach="textes" t-as="texte">
            <div>
                <span t-raw="texte"/>  <!-- OK -->
            </div>
        </t>
            
    </xpath>
    <xpath expr="//table[@name='invoice_line_table']/tbody/t[3]/tr" position="after">
        <t t-set="textes" t-value="line.di_get_texts()" />
        <t t-foreach="textes" t-as="texte">
            <tr>
                <td name="di_td_texte" colspan="99">
                    <span t-raw="texte"/><!-- OK -->
                </td>
            </tr>
        </t>
                
    </xpath>        
</template>  

<template id="di_report_purchasequotation_document" inherit_id="purchase.report_purchasequotation_document">
<!-- o, order_line -->
    <xpath expr="//table" position="before">
        <t t-set="textes" t-value="o.di_get_texts()" />
        <t t-foreach="textes" t-as="texte">
            <div>
                <span t-raw="texte"/> <!-- OK -->
            </div>
        </t>
            
    </xpath>
    <xpath expr="//tbody/t/tr" position="after">
        <t t-set="textes" t-value="order_line.di_get_texts()" />
        <t t-foreach="textes" t-as="texte">
            <tr>
                <td name="di_td_texte" colspan="99">
                    <span t-raw="texte"/><!-- OK -->
                </td>
            </tr>
        </t>
            
    </xpath>          
</template>  

<template id="di_report_purchaseorder_document" inherit_id="purchase.report_purchaseorder_document">
<!-- o, line -->
    <xpath expr="//table" position="before">
        <t t-set="textes" t-value="o.di_get_texts()" />
        <t t-foreach="textes" t-as="texte">
            <div>
                <span t-raw="texte"/><!-- OK -->
            </div>
        </t>
            
    </xpath>
    <xpath expr="//tbody/t/tr" position="after">
        <t t-set="textes" t-value="line.di_get_texts()" />
        <t t-foreach="textes" t-as="texte">
            <tr>
                <td name="di_td_texte" colspan="99">
                    <span t-raw="texte"/><!-- OK -->
                </td>
            </tr>
        </t>
            
    </xpath>        
</template> 







           
           
</odoo>
  